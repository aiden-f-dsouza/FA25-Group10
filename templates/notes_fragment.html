{% for n in notes %}
<div class="card">
  <div id="note-content-{{ n.id }}" class="note-content">
    <div class="note-title">{{ n.title }}</div>
    <div class="note-meta">
      <span class="meta-tag">ğŸ‘¤ {{ n.author }}</span>
      <span class="meta-tag">ğŸ“… {{ n.created }}</span>
      <span class="meta-tag">ğŸ“š {{ n.class }}</span>
    </div>
    <div class="note-body">{{ n.body }}</div>
  </div>

  <div id="edit-form-{{ n.id }}" class="edit-form">
    <form method="POST" action="/edit/{{ n.id }}">
      <div style="margin-bottom: 12px;">
        <input type="text" name="title" value="{{ n.title }}" placeholder="Note title" required style="width: 100%;">
      </div>
      <div style="margin-bottom: 12px;">
        <input type="text" name="author" value="{{ n.author }}" placeholder="Author name" style="width: 100%;">
      </div>
      <div style="margin-bottom: 12px;">
        <select name="class" style="width: 100%;">
          {% for c in classes %}
          <option value="{{ c }}" {% if c == n.class %}selected{% endif %}>{{ c }}</option>
          {% endfor %}
        </select>
      </div>
      <div style="margin-bottom: 12px;">
      </div>
      <div style="display: flex; gap: 10px;">
        <button type="submit" class="btn-small btn-edit">ğŸ’¾ Save Changes</button>
        <button type="button" class="btn-small btn-cancel" onclick="toggleEdit('{{ n.id }}')">âŒ Cancel</button>
      </div>
    </form>
  </div>

  <div class="note-actions">
    <button class="btn-small btn-edit" onclick="toggleEdit('{{ n.id }}')">âœï¸ Edit</button>
    <form method="POST" action="/delete/{{ n.id }}" style="display: inline;" onsubmit="return confirm('Are you sure you want to delete this note?');">
      <button type="submit" class="btn-small btn-delete">ğŸ—‘ï¸ Delete</button>
    </form>
  </div>
</div>
{% endfor %}
